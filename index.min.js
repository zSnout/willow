var H=Object.defineProperty;var B=(t,e,n)=>e in t?H(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var X=(t,e,n)=>(B(t,typeof e!="symbol"?e+"":e,n),n);globalThis.__DEV__=!0;var p;function b(){return p}var E=class{constructor(e,n){this.effect=e;this.name=n;p?.c.add(this),this.run()}t=new Set;c=new Set;track(e){this.t.add(e)}cleanup(){this.t.forEach(e=>e.delete(this)),this.t.clear(),this.c.forEach(e=>e.cleanup()),this.c.clear()}run(){let e=p;p=this,this.effect(),p=e}};function d(t,e){let n=new Set;return[()=>{let s=p;return s&&(s.track(n),n.add(s)),t},s=>{typeof s=="function"?t=s(t):t=s,n.forEach(i=>i.run())}]}function c(t,e){return new E(t,e?.name)}function l(t){return typeof t=="function"}function W(t){return typeof t=="function"}function V(t){return Array.isArray(t)&&t.length===2&&l(t[0])&&W(t[1])}function M(t,e){let n=p;p=void 0;let o=t();return p=n,o}function pe(t){let e=Object.create(null);return M(()=>{for(let n in t){let o=t[n];l(o)?Object.defineProperty(e,n,{configurable:!0,enumerable:!0,get(){return o()}}):V(o)?Object.defineProperty(e,n,{configurable:!0,enumerable:!0,get(){return o[0]()},set(r){return r[1](r)}}):Object.defineProperty(e,n,{configurable:!0,enumerable:!0,get(){return t[n]}})}}),e}var L="addEventListener",g="lastChild",h="splice",A="nextElementSibling",v="nextSibling";var w=class extends Array{item(e){return this[e]}namedItem(e){return this.find(n=>n.nodeName==e)||null}},f=class extends Comment{after(...e){let n=this.n.at(-1);n?n.after(...e):super.after(...e),this.r()}appendChild(e){return this.n.push(e),this.r(),e}before(...e){let n=this.n.at(-1);n?n.before(...e):super.before(...e),this.r()}get children(){return this.n.filter(e=>e instanceof Element)}get childNodes(){return this.n}contains(e){return this==e||this.n.some(n=>n.contains(e))}get firstChild(){return this.n[0]||null}hasChildNodes(){return!!this.n.length}insertBefore(e,n){let o=this.n.indexOf(n);return o==-1||(this.n[h](o,0,e),this.r()),e}get[g](){return this.n.at(-1)||null}get[A](){return this[g]?this[g][A]:super[A]}get[v](){return this[g]?this[g][v]:super[v]}remove(){super.remove(),this.u()}removeChild(e){let n=this.n.indexOf(e);return n==-1||(this.n[h](n,1),this.r()),e}replaceChild(e,n){let o=this.n.indexOf(e);return o==-1||(this.n[h](o,1,n),this.r()),n}setTo(...e){this.u(),this.n[h](0,this.n.length,...e.filter(n=>n)),this.r()}replaceWith(...e){this.u(),super.replaceWith(...e),this.r()}n=new w;constructor(e="Fragment"){super(),this.data=` ${e} `,this[L]("DOMNodeInserted",n=>{n.target==this&&this.r()}),this[L]("DOMNodeRemoved",n=>{n.target==this&&this.u()})}r(){super.after(...this.n.filter(e=>e))}u(){this.n.forEach(e=>e?.remove())}};function Ae(t,e){let[n,o]=d(0);return c(()=>o(t()),e?.name?{name:`memo '${e?.name}'`}:{}),n}function ve(t,e){typeof t=="function"&&([t,e]=[void 0,t]);let[n,o]=d(0);return c(()=>o(t=e(t))),n}function y(t){return l(t)?t():t}var q=new Set(["pop","push","reverse","shift","sort","splice","unshift","fill","copyWithin"]),G=new Set(["add","clear","delete"]),z=new Set(["clear","delete","set"]);function K(t,e){if(typeof t=="function"||t instanceof Node)return t;let n=new Set;return new Proxy(t,{get(o,r,s){let i=Reflect.get(o,r,s);if(typeof i=="function"&&(o instanceof Array&&q.has(r)||o instanceof Set&&G.has(r)||o instanceof Map&&z.has(r)))return function(){let u=i.apply(this,arguments);return n.forEach(x=>x.run()),u};let a=b();return a&&(a.track(n),n.add(a)),typeof i=="object"?K(i):i},set(...o){let r=Reflect.set(...o);return n.forEach(s=>s.run()),r}})}function D(t,e){let n=new Set;return[new Proxy(t,{get(r,s,i){let a=Reflect.get(r,s,i),u=b();return u&&(u.track(n),n.add(u)),typeof a=="object"&&a?K(a):a}}),()=>n.forEach(r=>r.run())]}function Je({value:t,pending:e,then:n,catch:o}){let r=new f("Await"),s=0;return c(async()=>{let i=++s;r.setTo(e);try{let a=await y(t);if(s!==i)return;r.setTo(n?.(a))}catch(a){if(s!==i)return;r.setTo(o?.(a))}},{name:"<Await>"}),r}function Ke({children:t}){let e=new f("Dynamic");return c(()=>{e.setTo(t())},{name:"<Dynamic>"}),e}var U;(n=>{function t([o,r]){return s=>{let i=!1;c(()=>{i||(s.value=o())},{name:"bind:value"}),T(s,"input",()=>{i=!0,r(s.value),i=!1})}}n.value=t;function e([o,r]){return s=>{let i=!1;c(()=>{i||(s.value=""+o())},{name:"bind:numeric"}),T(s,"input",()=>{i=!0,r(+s.value),i=!1})}}n.numeric=e})(U||={});function P(t){return Array.isArray(t)}var Q=new Set(["svg","animate","animateTransform","circle","clipPath","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","image","line","linearGradient","marker","mask","metadata","path","pattern","polygon","polyline","radialGradient","rect","stop","switch","symbol","text","textPath","tspan","use","view"]);function Y(t){return Q.has(t)?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t)}function _(t,e){t.appendChild(e)}function T(t,e,n,o=!1){t.addEventListener(e,n,o)}function O(t){return document.createTextNode(""+t)}function I(t,e,n){t.setAttribute(e,""+n)}function Z(t){return t instanceof Node}function m(t,e,n){let o=c(e,n);(t.willowScopes||=new Set).add(o)}function C(t,e){if(P(e))e.forEach(n=>C(t,n));else if(l(e)){let n=O("");m(n,()=>n.data=""+e(),{name:"reactive text"}),_(t,n)}else Z(e)?_(t,e):_(t,O(e))}function N(t){return typeof t=="string"?t:P(t)?t.map(N).join(" "):typeof t=="object"&&t?Object.entries(t).filter(([,e])=>e).map(([e])=>e).join(" "):""}function $(t,e){if(l(e))m(t,()=>$(t,e()),{name:"css style object"});else if(typeof e=="string")t.setAttribute("style",e);else if(typeof e=="object")for(let n in e){let o=e[n];l(o)?m(t,()=>t.style[n]=o(),{name:`css style.${n}`}):t.style[n]=o}}function S(t,e,...n){let o;if(typeof t=="string"){let r=Y(t);C(r,e?.children||n);for(let s in e){let i=e[s];if(r instanceof HTMLElement&&(s==="class"||s==="className"))l(i)?m(r,()=>r.className=N(i()),{name:"className"}):r.className=N(i);else if(s==="classList")for(let a in i)m(r,()=>r.classList.toggle(a,!!y(i[a])),{name:`classList.${a}`});else s==="use"?typeof i=="function"&&i(r):s==="style"?$(r,i):s.startsWith("bind:")?U[s.slice(5)](i)(r):s.startsWith("on:")||s.startsWith("oncapture:")||(s in r?l(i)?m(r,()=>r[s]=i(),{name:`element property ${s}`}):r[s]=i:l(i)?m(r,()=>I(r,s,i()),{name:`element attribute ${s}`}):I(r,s,i))}o=r}else if(typeof t=="function"){let r=n.length===1?n[0]:n;n.length?e?e.children||(e={...e,children:r}):e={children:r}:e||(e={});let s;try{s=t(e)}catch{s=new t(e)}o=s}else throw new TypeError(`willow.h must be passed a tag name or function, but was passed a ${typeof t}`);for(let r in e){let s=e[r];r.startsWith("on:")?typeof s=="function"&&T(o,r.slice(3),s):r.startsWith("oncapture:")&&typeof s=="function"&&T(o,r.slice(10),s,!0)}return o}(e=>{function t({children:n}){let o=new f;return C(o,n),o}e.f=t})(S||={});var je=Symbol("willow.propsSymbol");function ee(t){t.willowScopes?.forEach(e=>e.cleanup()),t.childNodes.forEach(ee)}var k=class extends HTMLElement{styles;constructor(){super();let e=this.attachShadow({mode:"open"}),n=this.render();n&&e.appendChild(n),queueMicrotask(()=>{this.styles&&e.appendChild(S("style",null,this.styles))})}w={};attribute(e,n){let[o,r]=d(this.getAttribute(e)),s=this.w[e]??=new Set;return typeof n=="number"?s.add(i=>{let a=+(i??n);r(isNaN(a)?a:n)}):typeof n=="string"?s.add(i=>r(i??n)):typeof n=="boolean"?s.add(i=>r(i!=null)):s.add(i=>r(i??n)),o}attributeChangedCallback(e,n,o){n===o||this.w[e]}};X(k,"observedAttributes");function F({children:t}){let e=new f("List");return c(()=>e.setTo(...y(t)),{name:"<List>"}),e}function j(t,e,n){let o=new Map,[r,s]=D([]);return c(()=>{let i=-1;for(let a of t){let u=o.get(a);if(i++,u)u[1]!==i&&(u[2](u[1]=i),r[i]=u[0]);else{let[x,R]=d(i),J=e(a,x);o.set(a,[J,i,R]),r[i]=J}}r.length=++i,s()},n),r}function lt({children:t,each:e}){return F({children:j(e,t,{name:"<For>"})})}function mt({when:t,fallback:e,children:n}){if(typeof t=="boolean")return t?n:e||document.createComment(" Maybe ");let o=new f("Maybe");return c(()=>{let r=t()?n:e;r?o.setTo(r):o.setTo()},{name:"<Maybe>"}),o}export{Je as Await,Ke as Dynamic,E as EffectScope,lt as For,F as List,mt as Maybe,k as WillowElement,f as WillowFragment,ee as cleanupNode,ve as createComputed,c as createEffect,D as createManualStore,Ae as createMemo,d as createSignal,K as createStore,b as getScope,S as h,l as isAccessor,W as isSetter,V as isSignal,j as map,pe as toStore,y as unref,M as untrack};
